<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="Template Mo">
  <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">

  <title>Education - List of Meetings</title>

  <!-- Bootstrap core CSS -->
  <link th:href="@{/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet" />
  <!-- Additional CSS Files -->
  <link th:href="@{/assets/css/fontawesome.css}" rel="stylesheet" />
  <link th:href="@{/assets/css/templatemo-edu-meeting.css}" rel="stylesheet" />
  <link th:href="@{/assets/css/owl.css}" rel="stylesheet" />
  <link th:href="@{/assets/css/lightbox.css}" rel="stylesheet" />
  <link id="pagestyle" th:href="@{/CSS/materialkit.css?v=3.0.0}" rel="stylesheet" />
  <!--

  TemplateMo 569 Edu Meeting

  https://templatemo.com/tm-569-edu-meeting

  -->
</head>

<body style="  background-color: #ff7f50;">

<div th:replace="Header.html :: header"></div>
<!--버튼-->
<section class="meetings-page" >
  <div class="container">
    <div class="row mt-0">
      <div class="d-flex justify-content-end mt-0">
        <div class="col-lg-1 mt-0 mb-4">
          <a th:if="${memberDTO != null} and ${memberDTO.mid == boardEntity.memberEntity.mid}" th:href="@{'/Board/Free/goToFreeBoardUpdate/'}+${boardEntity.bno}">
            <button type="button" class="btn btn bg-gradient-info w-auto me-2" >수정하기</button>
          </a>
        </div>
        <div th:if="${memberDTO != null} and ${memberDTO.mid == boardEntity.memberEntity.mid}" class="col-lg-1 mt-0 mb-4">
          <button  type="button" class="btn btn bg-gradient-danger w-auto me-2" th:onclick="freeboardDelete([[${boardEntity.bno}]])">삭제하기</button>
        </div>
      </div>
    </div>
  </div>
</section>
<!--메인 섹션-->
<section class="meetings-page" id="meetings">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="row">
          <div class="col-lg-12">
            <div class="meeting-single-item">
              <div class="thumb">
                <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                  <div class="carousel-inner" >
                    <div class="carousel-item active" >

                      <img th:if="${boardEntity.boardImgEntities.size() != 0}" th:src="@{'/IMG/Board/FreeBoardIMG/'+${boardEntity.boardImgEntities.get(0).bimg}}" class="d-block w-100" style="background-color:#cccccc; width:67.5vw; height:49.64994663820704vh; object-fit:contain;">
                      <img th:if="${boardEntity.boardImgEntities.size() == 0}" th:src="@{/IMG/logofoot.svg}" class="d-block w-100" style="background-color:#cccccc; width:67.5vw; height:49.64994663820704vh; object-fit:contain;">
                    </div>
                    <div class="carousel-item" th:each="boardImg : ${boardEntity.boardImgEntities}">
                      <img th:if="${#lists.size(boardImg)}!=0" th:src="@{'/IMG/Board/FreeBoardIMG/'+${boardImg.bimg}}" class="d-block w-100" style="background-color:#cccccc; width:67.5vw; height:49.64994663820704vh; object-fit:contain;">
                      <img th:if="${#lists.size(boardImg)}==0" th:src="@{/IMG/logofoot.svg}" class="d-block w-100" style="background-color:#cccccc; width:67.5vw; height:49.64994663820704vh; object-fit:contain;">
                    </div>
                  </div>
                  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                  </button>
                  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                  </button>
                </div>
              </div>
              <div class="down-content">
                <div class="row d-flex justify-content-between">
                  <div class="col-lg-7">
                    <h4 th:text="${boardEntity.btitle}" ></h4>
                  </div>
                  <div class="col-lg-2">
                    <div class="hours">
                      <p>작성자 <span th:text="${boardEntity.memberEntity.mid}" style="font-weight:bold; color:gray;"></span></p>
                    </div>
                  </div>
                  <div class="col-lg-2">
                    <div class="location">
                      <p>작성일 <span th:text="${#strings.substring(boardEntity.createdDate,0,10)}" style="font-weight:bold; color:gray;"></span></p>
                    </div>
                  </div>
                  <div class="col-lg-1">
                    <div class="book now">
                      <p>조회수 <span th:text="${boardEntity.bview}" style="font-weight:bold; color:gray;"></span></p>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div id="fContentDiv" th:utext="${boardEntity.bcontents}" ></div>
                  <div class="col-lg-12">
                    <div class="share" >
                      <h5>첨부파일</h5>
                      <ul >
                        <li th:each="boardImg : ${boardEntity.boardImgEntities}">
                          <a th:href="@{/Board/Free/FreeBoardDownload(bimg=${boardImg.bimg})}" th:text="${#strings.listSplit(boardImg.bimg,'_')[1]}"></a>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="col-lg-12 share">
                    <h5>댓글</h5>
                    <div class="row">
                      <div class="col-md-10">
                        <input class="form-control" type="text" id="frcontents" name="rcontents">
                        <input type="hidden" id="cano" name="cano" value="4">
                      </div>
                      <div class="col-md-2">
                        <button class="form-control"
                                th:onclick="freeReplyWrite([[${boardEntity.bno}]])">댓글등록
                        </button>
                      </div>
                    </div>
                    <table class="table" id="freeReplytable">
                      <tr>
                        <th width="15%" style="text-align: center;">작성자</th>
                        <th width="70%">내용</th>
                        <th width="15%" style="text-align: center;">비고</th>
                      </tr>
                      <tr th:each="replyEntities:${replyEntities}">
                        <td  th:text="${replyEntities.memberEntity2.mid}"
                             style="text-align: center;">
                        </td>

                        <td th:id="tdbcontents+${replyEntities.getRno()}" th:text="${replyEntities.rcontents}"></td>
                        <td style="text-align: center;">
                          <div class="d-flex justify-content-center">
                            <div style="margin-right:8px;">
                              <button
                                      th:id="btnrupdate+${replyEntities.getRno()}"
                                      type="button"
                                      class="btn btn-outline-secondary"
                                      th:onclick="rupdate([[${replyEntities.getRno()}]])">수정
                              </button>
                            </div>
                            <div style="margin-right:10px;">
                              <button
                                      th:id="btnrchange+${replyEntities.getRno()}"
                                      type="button"
                                      class="btn btn-outline-secondary" style="display:none;">
                                확인
                              </button>
                            </div>
                            <div>
                              <button

                                      type="button" class="btn btn-outline-secondary"
                                      th:onclick="freeReplyDelete([[${replyEntities.rno}]])">
                                삭제
                              </button>
                            </div>
                          </div>
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-12">
              <div class="main-button-red">
                <a th:href="@{/freeboard}">목록으로 돌아가기</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div th:replace="Footer.html :: footer"></div>
</section>

<!-- Scripts -->
<!-- Bootstrap core JavaScript -->
<script th:src="@{/vendor/jquery/jquery.min.js}" type="text/javascript"></script>
<script th:src="@{/vendor/bootstrap/js/bootstrap.min.js}" type="text/javascript"></script>
<script th:src="@{/assets/js/isotope.min.js}" type="text/javascript"></script>
<script th:src="@{/assets/js/owl-carousel.js}" type="text/javascript"></script>
<script th:src="@{/assets/js/lightbox.js}" type="text/javascript"></script>
<script th:src="@{/assets/js/tabs.js}" type="text/javascript"></script>
<script th:src="@{/assets/js/isotope.js}" type="text/javascript"></script>
<script th:src="@{/assets/js/video.js}" type="text/javascript"></script>
<script th:src="@{/assets/js/slick-slider.js}" type="text/javascript"></script>
<script th:src="@{/assets/js/custom.js}" type="text/javascript"></script>
<script th:src="@{/JS/Board/FreeBoard/FreeBoard.js}"></script>
<script th:src="@{/JS/Board/FreeBoard/FreeBoardReply.js}"></script>
<script>
        //according to loftblog tut
        $('.nav li:first').addClass('active');

        var showSection = function showSection(section, isAnimate) {
          var
          direction = section.replace(/#/, ''),
          reqSection = $('.section').filter('[data-section="' + direction + '"]'),
          reqSectionPos = reqSection.offset().top - 0;

          if (isAnimate) {
            $('body, html').animate({
              scrollTop: reqSectionPos },
            800);
          } else {
            $('body, html').scrollTop(reqSectionPos);
          }

        };

        var checkSection = function checkSection() {
          $('.section').each(function () {
            var
            $this = $(this),
            topEdge = $this.offset().top - 80,
            bottomEdge = topEdge + $this.height(),
            wScroll = $(window).scrollTop();
            if (topEdge < wScroll && bottomEdge > wScroll) {
              var
              currentId = $this.data('section'),
              reqLink = $('a').filter('[href*=\\#' + currentId + ']');
              reqLink.closest('li').addClass('active').
              siblings().removeClass('active');
            }
          });
        };

        $('.main-menu, .responsive-menu, .scroll-to-section').on('click', 'a', function (e) {
          e.preventDefault();
          showSection($(this).attr('href'), true);
        });

        $(window).scroll(function () {
          checkSection();
        });
    </script>
</body>


</body>

</html>